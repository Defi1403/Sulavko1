#Область КонтрольОстатков 
	Если Режим = РежимПроведенияДокумента.Оперативный Тогда
		Запрос3 = Новый Запрос;
		Запрос3.МенеджерВременныхТаблиц = МенеджерВТ;
		Запрос3.Текст = 
			"ВЫБРАТЬ
			|	ОстаткиПродукцииОстатки.Продукция КАК Продукция,
			|	ОстаткиПродукцииОстатки.КоличетвоОстаток КАК КоличетвоОстаток
			|ИЗ
			|	РегистрНакопления.ОстаткиПродукции.Остатки(
			|			,
			|			Продукция В
			|					(ВЫБРАТЬ
			|						НоменклатураДокумента.Продукция
			|					ИЗ
			|						НоменклатураДокумента)
			|				И Склад = &Склад) КАК ОстаткиПродукцииОстатки
			|ГДЕ
			|	ОстаткиПродукцииОстатки.КоличетвоОстаток < 0";  
		
		Запрос3.УстановитьПараметр("Склад", Склад);  
		РезультатЗапроса = Запрос3.Выполнить();     
		
		ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
		
		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			Сообщить(
				"Не хватает " + 
				Строка(-ВыборкаДетальныеЗаписи.КоличетвоОстаток) + 
				" едениц продукции " + 
				Строка(ВыборкаДетальныеЗаписи.Продукция)
			);    
			Отказ = Истина;
		КонецЦикла;   
	КонецЕсли; 	
	#КонецОбласти
